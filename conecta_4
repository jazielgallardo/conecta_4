#include <iostream>
#include <vector>

using namespace std;

// Constantes del juego
const int FILAS = 6;
const int COLUMNAS = 7;
const char VACIO = '.';
const char JUGADOR1 = 'X';
const char JUGADOR2 = 'O';

// Clase para manejar el juego Conecta 4
class Conecta4 {
private:
    vector<vector<char>> tablero;
    char jugadorActual;
    int fichasColocadas;

public:
    // Constructor: inicializa el tableto vacío
    Conecta4() {
        tablero.resize(FILAS, vector<char>(COLUMNAS, VACIO));
        jugadorActual = JUGADOR1;
        fichasColocadas = 0;
    }

    // Muestra tablero en consola
   void mostrarTablero() {
    cout << "\n  ";
    for (int col = 1; col <= COLUMNAS; col++) {
        cout << col << " ";
    }
    cout << "\n";
    
    for (int fila = 0; fila < FILAS; fila++) {
        cout << "| ";
        for (int col = 0; col < COLUMNAS; col++) {
            cout << tablero[fila][col] << " ";
        }
        cout << "|\n";
    }
    
    cout << "  ";
    for (int col = 0; col < COLUMNAS; col++) {
        cout << "--";
    }
    cout << "-\n";
}

// Verifica si una columna está llena
bool columnaLlena(int columna) {
    return tablero[0][columna] != VACIO;
}

//Coloca una ficha en la columna especificada
bool colocarFicha(int columna) {
    //Verifica que la columna sea válida
    if (columna < 0 || columna >= COLUMNAS) {
        return false;
    }

    //Verificar si la columna está llena
    if (columnaLlena(columna)) {
        return false;
    }

    //Buscar la fila más baja disponible.
    for (int fila = FILAS - 1; fila >= 0; fila--) {
        if (tablero[fila][columna] == VACIO) {
            tablero[fila][columna] = jugadorActual;
            fichasColocadas++;
            return true;
        }
    }

    return false;
}

void cambiarTurno() {
    jugadorActual = (jugadorActual == JUGADOR1) ? JUGADOR2 : JUGADOR1;
}

int main() {
    cout << "Conecta 4" << endl;
    
    Conecta4 juego;
    juego.mostrarTablero();
    
    // Prueba de colocación
    juego.colocarFicha(3);
    juego.cambiarTurno();
    juego.colocarFicha(3);
    juego.mostrarTablero();

    return 0;
}